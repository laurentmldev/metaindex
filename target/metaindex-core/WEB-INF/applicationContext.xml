<beans xmlns="http://www.springframework.org/schema/beans" 
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
 xmlns:security="http://www.springframework.org/schema/security" 
 xmlns:websocket="http://www.springframework.org/schema/websocket"    
 xsi:schemaLocation="http://www.springframework.org/schema/beans
  http://www.springframework.org/schema/beans/spring-beans-4.0.xsd
  http://www.springframework.org/schema/security
  http://www.springframework.org/schema/security/spring-security.xsd
  http://www.springframework.org/schema/websocket
  http://www.springframework.org/schema/websocket/spring-websocket.xsd">
      
     <!-- class="org.apache.commons.dbcp2.BasicDataSource" -->
	 <bean id="dataSource" 
	 	class="org.springframework.jdbc.datasource.DriverManagerDataSource"> 
	 	<property name="driverClassName" value="com.mysql.jdbc.Driver" />
	 	<property name="url" value="jdbc:mysql://localhost:8889/metaindex?useUnicode=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC" />
		<property name="username" value="metaindexwebuser"/>
		<property name="password" value="metaindexwebuserpwd"/>
	 </bean>
 
	 <bean id="txManager"
	    class="org.springframework.jdbc.datasource.DataSourceTransactionManager">
	    <property name="dataSource" ref="dataSource" />
	</bean>

	 <bean name="bcryptEncoder"
		class="org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder"/>
		
		
    <bean class="org.springframework.web.socket.server.standard.ServletServerContainerFactoryBean">
        <property name="maxTextMessageBufferSize" value="8192"/>
        <property name="maxBinaryMessageBufferSize" value="8192"/>
    </bean>
	<bean id="filterMultipartResolver" 
	      class="org.springframework.web.multipart.commons.CommonsMultipartResolver">
	
	    <property name="maxUploadSize" value="-1" />
	</bean>
	<!-- bean id="myHandler" class="metaindex.websockets.MyWSHandler" />
	<websocket:handlers >
        <websocket:mapping path="/ws/myHandler" handler="myHandler" />
        
        <websocket:handshake-interceptors>
            <bean id="myInterceptor" class="metaindex.websockets.MyHttpHandshakeInterceptor"/>
        </websocket:handshake-interceptors>
    </websocket:handlers>
    
    <websocket:message-broker application-destination-prefix="/app">
        <websocket:stomp-endpoint path="/portfolio">
            <websocket:sockjs/>
        </websocket:stomp-endpoint>
        <websocket:simple-broker prefix="/topic, /queue"/>
    </websocket:message-broker-->
	
 </beans> 
 
 
