<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC "-//Apache Software Foundation//DTD  
 Struts Configuration 2.1//EN"   
"http://struts.apache.org/dtds/struts-2.1.dtd">  
<struts>  
	<constant name="struts.devMode" value="true" />
	<constant name="struts.action.excludePattern" value="/wsmx.*,/public/commons/.*,/logoutprocess,/loginprocess,/userdata/.*,/secure/mxtmp/.*" /> 
 	<constant name="struts.multipart.maxSize" value="2000000" />
      
	<package name="metaindex" extends="struts-default">  
	
	<global-results>
     <result name="BeanProcess_AUTHERROR">/public/commons/errors/ProcessErrorAuth.jsp</result>
     <result name="BeanProcess_ERROR">/public/commons/errors/ProcessError.jsp</result>
     <result name="BeanProcess_DBERROR">/public/commons/errors/ProcessErrorDB.jsp</result>
	</global-results>
 
<global-exception-mappings>
 <exception-mapping exception="org.apache.struts.register.exceptions.SecurityBreachException" result="BeanProcess_AUTHERROR" />
 <exception-mapping exception="org.springframework.jdbc" result="BeanProcess_DBERROR" />
 <exception-mapping exception="java.io.IOException" result="BeanProcess_AUTHERROR" /> 
 <exception-mapping exception="java.lang.Exception" result="BeanProcess_ERROR" />
 
   
</global-exception-mappings>

		<!-- Welcome page -->
		<action name="welcome" class="metaindex.app.beans.BeanProfile">
			<result name="BeanProcess_SUCCESS" >/public/welcome.jsp</result>			
		</action>
		
		<!-- Sign-up (create new account) -->
		<action name="signup" class="metaindex.app.beans.BeanProfile">
			<result name="BeanProcess_SUCCESS" >/public/signup.jsp</result>			
		</action>
		<action name="signupprocess" class="metaindex.app.beans.BeanSignup">
			<result name="BeanProcess_SUCCESS" >/public/signup_confirmemail.jsp</result>
			<result name="emailalreadyinuse" >/public/signup.jsp?emailalreadyused</result>
			<result name="newemailalreadywaiting" >/public/signup.jsp?newemailalreadywaiting</result>
			<result name="BeanProcess_ERROR" >/public/signup.jsp?error</result>
			  		
		</action>
		<action name="signup_confirmemail" class="metaindex.app.beans.BeanSignupConfirmEmail">
			<result name="BeanProcess_SUCCESS" >/public/signup_finalize.jsp</result>			
		</action>
		<action name="resetpassword" class="metaindex.app.beans.BeanSetPassword">
			<result name="BeanProcess_SUCCESS" >/public/login.jsp?passwordreset</result>			
		</action>

		
		<!-- Sign-in -->
		<action name="" class="metaindex.app.beans.BeanProfile">
			<result name="BeanProcess_SUCCESS" >/public/login.jsp</result>			
		</action>
		<action name="loginform" class="metaindex.app.beans.BeanProfile">
			<result name="BeanProcess_SUCCESS" >/public/login.jsp</result>  		
		</action>  
				
		<!-- Successful login -->
		<action name="loginprocess" class="metaindex.app.beans.BeanProfile">
			<result name="BeanProcess_SUCCESS" >/secure/catalogs/main.jsp</result>  		
		</action>  		
		  		
		
		<!-- Catalogs View -->
		<action name="Catalogs" class="metaindex.app.beans.BeanProfile">
			<result name="BeanProcess_SUCCESS" >/secure/catalogs/main.jsp</result>  			
		</action> 
		<!-- Items View -->
		<action name="Items" class="metaindex.app.beans.BeanProfile">
			<result name="BeanProcess_SUCCESS" >/secure/items/main.jsp</result>  			
		</action>
		
		<!-- Error -->
		<action name="Error" class="metaindex.app.beans.BeanProfile">						
		</action>
		
		<!-- Payement -->
		<action name="Checkout" class="metaindex.app.beans.BeanCheckout">
			<result name="BeanProcess_SUCCESS" >/secure/payment/checkout.jsp</result>  			
		</action> 
		
	</package>  
</struts>      
